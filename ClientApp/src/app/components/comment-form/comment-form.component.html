<div class="form-container">
  <form [formGroup]="commentForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <input formControlName="userName" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è*">
      <input formControlName="email" placeholder="Email*">
      <input formControlName="homePage" placeholder="Home Page">
    </div>

    <textarea formControlName="text" placeholder="–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π* (–†–∞–∑—Ä–µ—à–µ–Ω—ã <a>, <code>, <i>, <strong>)"></textarea>

    <div class="file-inputs">
      <label>–ö–∞—Ä—Ç–∏–Ω–∫–∞ (JPG/PNG/GIF): <input type="file" (change)="onFileSelected($event, 'image')" accept="image/*"></label>
      <label>–§–∞–π–ª (.txt): <input type="file" (change)="onFileSelected($event, 'text')" accept=".txt"></label>
    </div>

    <div class="captcha-row">
      <span class="captcha-badge">{{ captchaCode }}</span>
      <input formControlName="captcha" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥">
      <button type="button" (click)="refreshCaptcha()">üîÑ</button>
    </div>

    <div class="actions">
      <button type="button" (click)="togglePreview()">{{ isPreview ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å' : '–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä' }}</button>
      <button type="submit" [disabled]="commentForm.invalid">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
  </form>

  <div class="preview-box" *ngIf="isPreview">
    <h3>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:</h3>
    <div class="comment-preview">
      <strong>{{ commentForm.value.userName }}</strong>:
      <div [innerHTML]="commentForm.value.text"></div>
    </div>
  </div>
</div>